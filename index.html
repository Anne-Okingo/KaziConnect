<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KaziConnect | Offline Job Board</title>
    <meta name="description" content="Find jobs even without internet in Kenya.">
    <link rel="stylesheet" href="src/css/style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@500;700&display=swap"
        rel="stylesheet">
    <meta name="theme-color" content="#2563eb">
</head>

<body>
    <header>
        <nav>
            <div class="logo">MYJOBS<span>..</span></div>
            <ul class="nav-links">
                <li><a href="#" class="active">Home</a></li>
                <li><a href="#">Find Jobs</a></li>
                <li><a href="#">Articles</a></li>
                <li><a href="#">Our Advice</a></li>
            </ul>
            <div class="nav-actions">
                <button class="signin-btn">Sign-in</button>
                <button id="my-jobs-btn" class="my-jobs-btn">My Jobs</button>
                <button id="post-job-btn" class="post-job-nav-btn">+ Post a Job</button>
                <div id="connection-status" class="status-badge online">Online</div>
            </div>
        </nav>
    </header>

    <main id="app">
        <!-- Hero Section -->
        <section id="hero-section">
            <div class="hero-content">
                <div class="hero-left">
                    <h1>Find Your Dream <br>Job With Us</h1>
                </div>
                <div class="hero-right">
                    <p class="hero-subtitle">We believe in skills.</p>
                    <div class="search-box">
                        <div class="search-input-group">
                            <i data-lucide="briefcase"></i>
                            <input type="text" id="job-title-search" placeholder="Job Title">
                        </div>
                        <div class="divider"></div>
                        <div class="search-input-group">
                            <i data-lucide="map-pin"></i>
                            <input type="text" id="job-location-search" placeholder="Location">
                        </div>
                        <button id="search-btn">
                            <i data-lucide="search"></i>
                            Search
                        </button>
                    </div>
                    <div class="social-icons">
                        <a href="#"><i data-lucide="facebook"></i></a>
                        <a href="#"><i data-lucide="slack"></i></a>
                        <a href="#"><i data-lucide="chrome"></i></a>
                    </div>
                </div>
            </div>

            <!-- Circular Gallery -->
            <div class="hero-gallery">
                <div class="gallery-circles">
                    <div class="circle circle-1">
                        <img src="https://images.unsplash.com/photo-1499750310107-5fef28a66643?auto=format&fit=crop&q=80&w=800"
                            alt="Laptop Working">
                    </div>
                    <div class="circle circle-2">
                        <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=800"
                            alt="Meeting Room">
                    </div>
                    <div class="circle circle-3">
                        <img src="https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?auto=format&fit=crop&q=80&w=800"
                            alt="Professional Portrait">
                    </div>
                </div>
                <div class="wave-bg"></div>
            </div>
        </section>

        <!-- Offline Status Banner -->
        <section id="sync-banner" class="hidden">
            <div class="sync-info">
                <span class="sync-icon">üîÑ</span>
                <span id="sync-message">You have 0 pending applications. They will sync when online.</span>
                <button id="sync-now-btn" class="sync-btn-mini">Sync Now</button>
            </div>
        </section>

        <!-- Pending Job Submissions Banner -->
        <section id="job-sync-banner" class="hidden">
            <div class="sync-info" style="background: linear-gradient(135deg, #7c3aed, #4c1d95);">
                <span class="sync-icon">üìã</span>
                <span id="job-sync-message">You have 0 pending job posts. They will sync when online.</span>
                <button id="job-sync-now-btn" class="sync-btn-mini">Sync Now</button>
            </div>
        </section>

        <!-- Filters Section -->
        <section id="filter-section">
            <div class="filters">
                <button class="filter-chip active" data-filter="all">All</button>
                <button class="filter-chip" data-filter="remote">Remote</button>
                <button class="filter-chip" data-filter="rural">Rural</button>
                <button class="filter-chip" data-filter="urban">Urban</button>
            </div>
        </section>

        <section id="job-list-section">
            <div class="section-header">
                <h2>Fresh Opportunities</h2>
                <span id="job-count">0 jobs found</span>
            </div>
            <div id="job-list" class="job-grid">
                <!-- Jobs will be injected here -->
                <div class="loading-state">
                    <div class="spinner"></div>
                    <p>Loading jobs...</p>
                </div>
            </div>
        </section>

        <!-- My Jobs Section -->
        <section id="my-jobs-section" class="hidden">
            <div class="section-header">
                <h2>My Posted Jobs</h2>
                <button id="back-to-jobs-btn" class="back-btn">‚Üê Back to All Jobs</button>
            </div>
            <div id="my-jobs-list" class="job-grid">
                <!-- Posted jobs will be injected here -->
            </div>
        </section>
    </main>

    <!-- Job Detail Modal -->
    <div id="job-modal" class="modal hidden">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div id="modal-body">
                <!-- Detail content -->
            </div>
            <hr class="modal-divider">
            <div id="application-form-container">
                <h3>Submit Application</h3>
                <form id="job-application-form">
                    <div class="form-group">
                        <label for="applicant-name">Full Name</label>
                        <input type="text" id="applicant-name" placeholder="e.g. Akinyi Juma" required>
                    </div>
                    <div class="form-group">
                        <label for="applicant-phone">Phone Number</label>
                        <input type="tel" id="applicant-phone" placeholder="e.g. 0712 345 678" required>
                    </div>
                    <div class="form-group">
                        <label for="applicant-notes">Why are you a good fit?</label>
                        <textarea id="applicant-notes" rows="4"
                            placeholder="Briefly describe your experience..."></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" id="apply-btn" class="submit-btn">Submit Application</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Post Job Modal -->
    <div id="post-job-modal" class="modal hidden">
        <div class="modal-content">
            <button class="close-modal" id="close-post-job-modal">&times;</button>
            <h2 style="margin-bottom: 0.25rem;">Post a Job</h2>
            <p style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1.5rem;">Your listing will be reviewed before going live. Offline? We'll save it and post automatically.</p>
            <form id="post-job-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="job-title-input">Job Title *</label>
                        <input type="text" id="job-title-input" placeholder="e.g. Farm Manager" required>
                    </div>
                    <div class="form-group">
                        <label for="job-company-input">Company / Organisation *</label>
                        <input type="text" id="job-company-input" placeholder="e.g. Siaya Coop" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="job-location-input">Location *</label>
                        <input type="text" id="job-location-input" placeholder="e.g. Kisumu" required>
                    </div>
                    <div class="form-group">
                        <label for="job-type-input">Job Type *</label>
                        <select id="job-type-input" required>
                            <option value="" disabled selected>Select type...</option>
                            <option value="urban">Urban</option>
                            <option value="rural">Rural</option>
                            <option value="remote">Remote</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="job-salary-input">Salary / Pay</label>
                    <input type="text" id="job-salary-input" placeholder="e.g. KES 30,000">
                </div>
                <div class="form-group">
                    <label for="job-description-input">Job Description</label>
                    <textarea id="job-description-input" rows="4" placeholder="Describe the role, skills required, and any other details..."></textarea>
                </div>
                <div class="modal-footer">
                    <button type="submit" id="post-job-submit-btn" class="submit-btn">Submit Job Listing</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden"></div>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        lucide.createIcons();
    </script>
    <script src="src/js/db.js"></script>
    <script src="src/js/main.js"></script>
</body>

</html>